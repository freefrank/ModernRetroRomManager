# ModernRetroManager - ç°ä»£åŒ– Retro ROM ç®¡ç†è½¯ä»¶

## ğŸ“ æœ€è¿‘æ›´æ–° (2026-01-19)

### æœ¬æ¬¡ä¼šè¯å®Œæˆçš„ä¿®å¤

| ä¿®å¤é¡¹ | æ–‡ä»¶ | è¯´æ˜ |
|--------|------|------|
| **ä¸´æ—¶å…ƒæ•°æ®åˆå¹¶** | `naming_check.rs` | `auto_fix_naming` ç°åœ¨ä¼šä¿ç•™ç”¨æˆ·æ‰‹åŠ¨ç¼–è¾‘ (confidence=100) çš„æ¡ç›® |
| **åª’ä½“ç›®å½•ç»“æ„** | `ps3.rs`, `persistence.rs` | ç»Ÿä¸€ä¸ºåµŒå¥—ç»“æ„ `media/{file_stem}/asset_type.png` |
| **library_path è®¡ç®—** | `persistence.rs` | ä¿®å¤ä¸ºä½¿ç”¨ `rom.directory.parent()` è·å–åº“æ ¹ç›®å½• |
| **PS3 Logo ç”Ÿæˆ** | `ps3.rs`, `boxart.rs` | æ–°å¢ `extract_ps3_logo()` å‡½æ•°ï¼Œç”Ÿæˆ boxart æ—¶åŒæ—¶æå– logo |
| **Pegasus è§£æå™¨** | `pegasus.rs` | é”®åå¤§å°å†™ä¸æ•æ„Ÿ (`boxFront` â†’ `boxfront`) |
| **ROM å°é¢æ˜¾ç¤º** | `RomView.tsx` | æ–°å¢ `getRomCover()` ä¼˜å…ˆæ£€æŸ¥ `temp_data?.box_front` |
| **ç”Ÿæˆååˆ·æ–°** | `RomDetail.tsx` | ç”Ÿæˆ boxart åè‡ªåŠ¨åˆ·æ–°åº“è§†å›¾å’Œä¸´æ—¶åª’ä½“åˆ—è¡¨ |

### å¾…éªŒè¯é¡¹ç›®

- [ ] PS3 boxart ç”Ÿæˆåæ˜¯å¦æ­£ç¡®æ˜¾ç¤ºåœ¨åº“è§†å›¾
- [ ] Scraper åª’ä½“ä¸‹è½½æ˜¯å¦ä½¿ç”¨æ­£ç¡®çš„åµŒå¥—ç›®å½•ç»“æ„
- [ ] ä¸­æ–‡ ROM å·¥å…·é‡æ–°è¿è¡Œæ˜¯å¦ä¿ç•™ç”¨æˆ·ç¼–è¾‘

---

## ğŸ¯ é¡¹ç›®æ„¿æ™¯

æ‰“é€ ä¸€æ¬¾**ç°ä»£åŒ–ã€è·¨å¹³å°ã€å¼€æº**çš„ Retro ROM ç®¡ç†è½¯ä»¶ï¼Œæ›¿ä»£è€æ—§çš„ ARRM å’Œ Skraperï¼Œæ‘†è„±å¯¹ screenscraper.fr çš„è¿‡åº¦ä¾èµ–ã€‚

### æ ¸å¿ƒç›®æ ‡
- ğŸŒ **åŒæ¨¡å¼éƒ¨ç½²**ï¼šå¯ Self-host ä¹Ÿå¯æ‰“åŒ…æˆ Native App (Win/Mac/Linux)
- ğŸ¨ **ç°ä»£åŒ– UI**ï¼šä½¿ç”¨æœ€æ–°å‰ç«¯æŠ€æœ¯ï¼Œç¾è§‚ä¸”é«˜æ•ˆ (Cyberpunk é£æ ¼)
- ğŸ”Œ **å¤šæº Scraping**ï¼šæ•´åˆå¤šä¸ª API å’Œçˆ¬è™«æº
- ğŸ“¦ **å…¼å®¹æ€§å¼º**ï¼šæ”¯æŒå¯¼å…¥ç°æœ‰ metadata.txtã€playlist.xml ç­‰æ ¼å¼

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Frontend Layer                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    React 19 + TypeScript + TailwindCSS v4           â”‚   â”‚
â”‚  â”‚   (Vite + Framer Motion + Lucide React)             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      Backend Layer                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     æ¡Œé¢ç‰ˆ: Rust (Tauri Framework v2)               â”‚   â”‚
â”‚  â”‚     - è½»é‡çº§ (æ— å†…åµŒæµè§ˆå™¨å¼€é”€)                     â”‚   â”‚
â”‚  â”‚     - Metadata é©±åŠ¨ (ç›´æ¥è¯»å†™ XML/TXT)              â”‚   â”‚
â”‚  â”‚     - è·¨å¹³å°ç¼–è¯‘ (Win/Mac/Linux)                    â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚     Webç‰ˆ: Node.js (Express + TypeScript)           â”‚   â”‚
â”‚  â”‚     - Docker å®¹å™¨éƒ¨ç½²                               â”‚   â”‚
â”‚  â”‚     - Volume æ˜ å°„ ROM ç›®å½•                          â”‚   â”‚
â”‚  â”‚     - åª’ä½“æ–‡ä»¶ä»£ç† API                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      Storage Layer                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚             File System (Metadata Files)            â”‚   â”‚
â”‚  â”‚           pegasus.txt / gamelist.xml                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¯¦ç»†æ¶æ„å›¾

#### å‰ç«¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Frontend Architecture                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Pages (React Router 7)                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Library  â”‚ â”‚ Scraper  â”‚ â”‚ Settings â”‚ â”‚ CnRomToolâ”‚       â”‚
â”‚  â”‚          â”‚ â”‚          â”‚ â”‚          â”‚ â”‚          â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â”‚
â”‚       â”‚            â”‚            â”‚            â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Components                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Layout: Sidebar, StatusBar                         â”‚   â”‚
â”‚  â”‚  ROM: RomView, RomDetail, ScrapeDialog, BatchDialog â”‚   â”‚
â”‚  â”‚  Common: DirectoryInput, MetadataImportDialog       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  State Management (Zustand)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ appStore â”‚ â”‚ romStore â”‚ â”‚ scraper  â”‚                    â”‚
â”‚  â”‚          â”‚ â”‚          â”‚ â”‚  Store   â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚       â”‚            â”‚            â”‚                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  API Layer (lib/api.ts)                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  romApi, scraperApi, systemApi, directoryApi        â”‚   â”‚
â”‚  â”‚  â†“ invoke() - Tauri IPC                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### åç«¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Backend Architecture (Rust/Tauri)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Tauri Commands Layer                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  rom     â”‚ â”‚ scraper  â”‚ â”‚ system   â”‚ â”‚directory â”‚       â”‚
â”‚  â”‚ commands â”‚ â”‚ commands â”‚ â”‚ commands â”‚ â”‚ commands â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â”‚
â”‚       â”‚            â”‚            â”‚            â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  export  â”‚ â”‚  import  â”‚ â”‚  naming  â”‚ â”‚  tools   â”‚       â”‚
â”‚  â”‚ commands â”‚ â”‚ commands â”‚ â”‚  check   â”‚ â”‚ commands â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚       â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                                               â”‚
â”‚  â”‚   ps3    â”‚                                               â”‚
â”‚  â”‚ commands â”‚                                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Services Layer                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  rom_service: ROM æ‰«æã€è§£æã€ç®¡ç†                  â”‚   â”‚
â”‚  â”‚    â””â”€ apply_temp_metadata(): ä¸´æ—¶æ•°æ®åŠ è½½ä¸åˆå¹¶    â”‚   â”‚
â”‚  â”‚  system_mapping: ç³»ç»Ÿåç§°æ˜ å°„ (60+ å¹³å°)           â”‚   â”‚
â”‚  â”‚  settings: é…ç½®ç®¡ç† (settings.json)                â”‚   â”‚
â”‚  â”‚  config: é…ç½®ç›®å½•ç®¡ç†                               â”‚   â”‚
â”‚  â”‚    â”œâ”€ get_temp_dir_for_library(): ä¸´æ—¶ç›®å½•è®¡ç®—      â”‚   â”‚
â”‚  â”‚    â””â”€ normalize_path_to_dirname(): è·¯å¾„è§„èŒƒåŒ–       â”‚   â”‚
â”‚  â”‚  ps3: PS3 å¹³å°ä¸“ç”¨æ¨¡å—                             â”‚   â”‚
â”‚  â”‚    â”œâ”€ sfo: PARAM.SFO è§£æ (æ–‡ä»¶/ISO)              â”‚   â”‚
â”‚  â”‚    â”œâ”€ boxart: Boxart ç”Ÿæˆ (PIC1+ICON0)            â”‚   â”‚
â”‚  â”‚    â”œâ”€ iso: ISO9660 æ–‡ä»¶ç³»ç»Ÿæå–                    â”‚   â”‚
â”‚  â”‚    â””â”€ extract_ps3_logo(): Logo æå–                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Scraper Module                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  manager: ScraperManager (ç»Ÿä¸€è°ƒåº¦)                â”‚   â”‚
â”‚  â”‚    â”œâ”€ providers: HashMap<String, Box<dyn Provider>> â”‚   â”‚
â”‚  â”‚    â”œâ”€ aggregate_metadata() (å¤šæºèšåˆ)              â”‚   â”‚
â”‚  â”‚    â””â”€ merge_metadata() (ä¼˜å…ˆçº§åˆå¹¶)                â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  Providers (trait å®ç°):                            â”‚   â”‚
â”‚  â”‚    â”œâ”€ steamgriddb: SteamGridDB API                  â”‚   â”‚
â”‚  â”‚    â”œâ”€ screenscraper: ScreenScraper API              â”‚   â”‚
â”‚  â”‚    â””â”€ local_cn: ä¸­æ–‡æ•°æ®åº“ (CSV)                   â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  Supporting:                                         â”‚   â”‚
â”‚  â”‚    â”œâ”€ types: æ ‡å‡†åŒ–æ•°æ®ç»“æ„                        â”‚   â”‚
â”‚  â”‚    â”œâ”€ matcher: æ™ºèƒ½åŒ¹é…ç®—æ³•                        â”‚   â”‚
â”‚  â”‚    â”œâ”€ persistence: å…ƒæ•°æ®æŒä¹…åŒ– (temp/æ°¸ä¹…)        â”‚   â”‚
â”‚  â”‚    â””â”€ pegasus: Pegasus æ ¼å¼è§£æ (å¤§å°å†™ä¸æ•æ„Ÿ)     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Storage Layer                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  config/settings.json: åº”ç”¨é…ç½®                     â”‚   â”‚
â”‚  â”‚  config/media/: æ°¸ä¹…åª’ä½“èµ„äº§ç¼“å­˜                    â”‚   â”‚
â”‚  â”‚  config/temp/{library}/{system}/: ä¸´æ—¶æ•°æ®          â”‚   â”‚
â”‚  â”‚    â”œâ”€ metadata.txt: ä¸´æ—¶ Pegasus å…ƒæ•°æ®            â”‚   â”‚
â”‚  â”‚    â”œâ”€ gamelist.xml: ä¸´æ—¶ EmulationStation å…ƒæ•°æ®   â”‚   â”‚
â”‚  â”‚    â””â”€ media/{rom_stem}/: ä¸´æ—¶åª’ä½“èµ„äº§              â”‚   â”‚
â”‚  â”‚        â”œâ”€ boxfront.png                              â”‚   â”‚
â”‚  â”‚        â”œâ”€ logo.png                                  â”‚   â”‚
â”‚  â”‚        â””â”€ screenshot.png                            â”‚   â”‚
â”‚  â”‚  ROM ç›®å½•/metadata.txt: Pegasus å…ƒæ•°æ® (æ°¸ä¹…)      â”‚   â”‚
â”‚  â”‚  ROM ç›®å½•/gamelist.xml: EmulationStation å…ƒæ•°æ®    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ•°æ®æµå›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Data Flow Architecture                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç”¨æˆ·æ“ä½œ â†’ å‰ç«¯é¡µé¢ â†’ Store â†’ API Layer â†’ Tauri IPC       â”‚
â”‚                                                              â”‚
â”‚  1. ROM æ‰«ææµç¨‹:                                            â”‚
â”‚     Library Page â†’ romStore.scanDirectory()                 â”‚
â”‚       â†’ romApi.scanDirectory()                              â”‚
â”‚       â†’ invoke("scan_directory")                            â”‚
â”‚       â†’ rom_commands::scan_directory()                      â”‚
â”‚       â†’ rom_service::scan_roms()                            â”‚
â”‚       â†’ è¿”å› ROM åˆ—è¡¨ â†’ æ›´æ–° romStore                       â”‚
â”‚                                                              â”‚
â”‚  2. Scraper æµç¨‹:                                            â”‚
â”‚     RomDetail â†’ ScrapeDialog â†’ scraperStore.autoScrape()    â”‚
â”‚       â†’ scraperApi.autoScrape()                             â”‚
â”‚       â†’ invoke("scraper_auto_scrape")                       â”‚
â”‚       â†’ scraper_commands::scraper_auto_scrape()             â”‚
â”‚       â†’ ScraperManager.scrape()                             â”‚
â”‚         â”œâ”€ search() - å¹¶è¡ŒæŸ¥è¯¢æ‰€æœ‰ provider                 â”‚
â”‚         â”œâ”€ aggregate_metadata() - å¤šæºèšåˆ                  â”‚
â”‚         â””â”€ get_media() - å¹¶è¡Œè·å–åª’ä½“                       â”‚
â”‚       â†’ è¿”å› ScrapeResult â†’ æ˜¾ç¤ºåœ¨å¯¹è¯æ¡†                    â”‚
â”‚                                                              â”‚
â”‚  3. é…ç½®ç®¡ç†æµç¨‹:                                            â”‚
â”‚     Settings Page â†’ scraperStore.setProviderPriority()      â”‚
â”‚       â†’ scraperApi.setProviderPriority()                    â”‚
â”‚       â†’ invoke("scraper_set_provider_priority")             â”‚
â”‚       â†’ scraper_commands::scraper_set_provider_priority()   â”‚
â”‚       â†’ ScraperManager.set_priority()                       â”‚
â”‚       â†’ settings::update_setting()                          â”‚
â”‚       â†’ æŒä¹…åŒ–åˆ° config/settings.json                       â”‚
â”‚                                                              â”‚
â”‚  4. å…ƒæ•°æ®å¯¼å‡ºæµç¨‹:                                          â”‚
â”‚     Library Page â†’ Export Button â†’ exportApi.export()       â”‚
â”‚       â†’ invoke("export_scraped_data")                       â”‚
â”‚       â†’ export_commands::export_scraped_data()              â”‚
â”‚       â†’ persistence::save_metadata_pegasus()                â”‚
â”‚       â†’ å†™å…¥ ROM ç›®å½•/metadata.txt                          â”‚
â”‚       â†’ åŒæ­¥åª’ä½“æ–‡ä»¶åˆ° ROM ç›®å½•                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ åŠŸèƒ½æ¨¡å—

### 1. ROM åº“ç®¡ç†
- æ‰«ææœ¬åœ° ROM ç›®å½•
- è‡ªåŠ¨è¯†åˆ« ROM ç³»ç»Ÿ/å¹³å° (18+ é¢„ç½®ç³»ç»Ÿ)
- æ”¯æŒå¤šç§ ROM æ ¼å¼ (.zip, .7z, .iso, .bin/.cue, etc.)
- æ”¯æŒæ–‡ä»¶å¤¹æ ¼å¼ ROM (PS3 å¹³å°ç‰¹æ®Šæ”¯æŒ)
- ROM æ–‡ä»¶æ ¡éªŒ (CRC32, MD5, SHA1)
- **PS3 å¹³å°å¢å¼ºæ”¯æŒ**ï¼š
  - PARAM.SFO è§£æï¼ˆä»æ–‡ä»¶å¤¹å’Œ ISO æå–æ¸¸æˆä¿¡æ¯ï¼‰
  - è‡ªåŠ¨è¯†åˆ« PS3_GAME ç›®å½•ç»“æ„
  - æ··åˆç›®å½•æ”¯æŒï¼ˆISO å’Œæ–‡ä»¶å¤¹æ··åˆæ‰«æï¼‰
  - Boxart è‡ªåŠ¨ç”Ÿæˆï¼ˆPIC1.PNG èƒŒæ™¯ + ICON0.PNG å›¾æ ‡åˆæˆï¼‰

### 2. å…ƒæ•°æ®å¯¼å…¥/å¯¼å‡º
- EmulationStation gamelist.xml
- metadata.txt (Pegasus/Recalbox/Batocera)
- LaunchBox XML
- RetroArch playlist (.lpl)

### 3. Scraper å¼•æ“

#### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ScraperManager                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  providers: HashMap<String, Box<dyn ScraperProvider>>â”‚   â”‚
â”‚  â”‚  config: ProviderConfig (ä¼˜å…ˆçº§ã€å¯ç”¨çŠ¶æ€ã€API Key) â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ç»Ÿä¸€æ¥å£                                 â”‚
â”‚  search(query) â†’ Vec<SearchResult>     (å¹¶è¡Œå¤šæºæœç´¢)       â”‚
â”‚  get_metadata(source) â†’ GameMetadata   (æ ‡å‡†åŒ–å…ƒæ•°æ®)       â”‚
â”‚  get_media(source) â†’ Vec<MediaAsset>   (æ ‡å‡†åŒ–åª’ä½“)         â”‚
â”‚  scrape(rom) â†’ ScrapeResult            (æ™ºèƒ½èšåˆ)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              Provider å®ç° (å¯æ‰©å±•æ’ä»¶å¼)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  IGDB    â”‚ â”‚SteamGrid â”‚ â”‚ScreenScr â”‚ â”‚ Custom   â”‚ ...   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å†…ç½® Provider

| æº | APIç±»å‹ | ä¼˜åŠ¿ | è¯´æ˜ |
|----|---------|------|------|
| IGDB | REST | å…ƒæ•°æ® | Twitch æ——ä¸‹ï¼Œæ•°æ®å…¨é¢ |
| SteamGridDB | REST | åª’ä½“ | é«˜è´¨é‡å°é¢/Logo/å›¾æ ‡ |
| ScreenScraper | REST | å…¨èƒ½ | HashåŒ¹é…ï¼Œåª’ä½“èµ„æºå¤š |
| TheGamesDB | REST | å…è´¹ | ç¤¾åŒºé©±åŠ¨ |
| MobyGames | REST | è€æ¸¸æˆ | æ•°æ®ä¸°å¯Œ |
| LaunchBox | æœ¬åœ°DB | ç¦»çº¿ | ç¦»çº¿å¯ç”¨ |
| æœç´¢å¼•æ“ + AI | æ··åˆ | å…œåº• | å¤„ç†å†·é—¨æ¸¸æˆ |

#### å¯æ‰©å±•æ€§

- å®ç° `ScraperProvider` trait å³å¯æ·»åŠ æ–° provider
- æ”¯æŒè¿è¡Œæ—¶æ³¨å†Œ/æ³¨é”€ provider
- é…ç½®æ–‡ä»¶ç®¡ç† provider ä¼˜å…ˆçº§å’Œ API å‡­è¯

### 4. åª’ä½“èµ„äº§ç®¡ç†
- Box Art, Screenshot, Video, Logo, Manual
- æœ¬åœ°å­˜å‚¨ç®¡ç†
- å›¾ç‰‡å‹ç¼©/æ ¼å¼è½¬æ¢

### 5. ç³»ç»Ÿåç§°æ˜ å°„ (System Mapping)
- **ç»Ÿä¸€æ˜ å°„é…ç½®**ï¼š60+ ä¸ªå¤å¤æ¸¸æˆå¹³å°çš„æ ‡å‡†åŒ–æ˜ å°„
- **å¤šç»´åº¦æ˜ å°„**ï¼š
  - ROM ç›®å½•åç§° â†’ CSV æ•°æ®åº“æ–‡ä»¶å
  - ROM ç›®å½•åç§° â†’ Logo å›¾ç‰‡æ–‡ä»¶å
  - ç³»ç»Ÿè¯†åˆ«æ ‡å‡†åŒ–
- **è¦†ç›–å¹³å°**ï¼šNintendoã€Segaã€Sonyã€Atariã€NECã€SNK ç­‰ä¸»æµå‚å•†
- **å˜ä½“æ”¯æŒ**ï¼šHack ROMã€HD é‡åˆ¶ç‰ˆç­‰ç‰¹æ®Šç‰ˆæœ¬

### 6. ä¸­æ–‡ ROM å·¥å…·
- **ä¸­æ–‡åç§°ç®¡ç†**ï¼š
  - ä»æœ¬åœ° CSV æ•°æ®åº“æå–ä¸­æ–‡åç§°
  - æ™ºèƒ½åŒ¹é…ç®—æ³• (Jaro-Winkler)
  - åŒè·¯å¾„æœç´¢ (User Data + Resources)
- **æ‰¹é‡æ“ä½œ**ï¼š
  - ç›®å½•æ‰«æä¸å‘½åæ£€æŸ¥
  - ä¸€é”®è‡ªåŠ¨ä¿®å¤å‘½å
  - æ‰¹é‡å¯¼å‡ºå…ƒæ•°æ®
- **å¹³å°é€‰æ‹©**ï¼šæ”¯æŒé€‰æ‹©ç‰¹å®šæ¸¸æˆç³»ç»Ÿè¿›è¡Œå¤„ç†
- **è¯¦ç»†å¯¹æ¯”**ï¼šæ˜¾ç¤ºåŸå§‹åç§°ã€ä¸­æ–‡åç§°ã€åŒ¹é…åº¦ç­‰ä¿¡æ¯
- **æœ¬åœ°ä»“åº“ç®¡ç†**ï¼šGit Clone/Pull rom-name-cn æ•°æ®åº“

---

## ğŸš€ å¼€å‘è·¯çº¿å›¾

### Phase 1: åŸºç¡€æ¡†æ¶ (MVP)

#### 1.1 é¡¹ç›®åˆå§‹åŒ–
- [x] é¡¹ç›®è§„åˆ’æ–‡æ¡£
- [x] Tauri v2 + React 19 + TypeScript é¡¹ç›®æ­å»º
- [x] TailwindCSS v4 + å¤šä¸»é¢˜é…ç½® (8ç§ä¸»é¢˜: Light/Dark/Cyberpunk/Ocean/Forest/Sunset/Rose/Nord)
- [x] åŸºç¡€è·¯ç”±é…ç½® (React Router 7)

#### 1.2 æ•°æ®æœåŠ¡å±‚ (Refactored)
- [x] ç§»é™¤ SQLite/Diesel ä¾èµ–
- [x] å®ç° Metadata æ–‡ä»¶è§£æå™¨ (Pegasus / EmulationStation)
- [x] é¢„ç½® 18 ç§æ¸¸æˆç³»ç»Ÿæ•°æ® (Config file)
- [x] ç³»ç»Ÿåç§°æ˜ å°„é…ç½® (60+ å¹³å°ï¼Œç»Ÿä¸€ CSV/Logo æ˜ å°„)
- [x] åŸºç¡€ Tauri Commands (get_roms, get_stats)
- [x] ç›®å½•æ‰«ææ›¿ä»£æ—§å¯¼å…¥æµç¨‹
- [x] å‰ç«¯ ROM åˆ—è¡¨å­—æ®µå¯¹é½

#### 1.3 åŸºç¡€ UI
- [x] ç°ä»£åŒ– Cyberpunk é£æ ¼å¸ƒå±€
- [x] Glassmorphism ä¾§è¾¹æ å¯¼èˆª
- [x] å›½é™…åŒ–æ”¯æŒ (i18n)
- [x] ROM åˆ—è¡¨è§†å›¾ï¼ˆè¡¨æ ¼ï¼‰
- [x] ROM åˆ—è¡¨è§†å›¾ï¼ˆç½‘æ ¼ï¼‰
- [x] ROM è¯¦æƒ…é¢æ¿
- [x] å…¨å±€æœç´¢ (Spotlight é£æ ¼)
- [x] ROM ç½‘æ ¼è§†å›¾ï¼ˆå°é¢ï¼‰

#### 1.4 ROM æ‰«æå™¨
- [x] ç›®å½•é€’å½’æ‰«æ (Backend)
- [x] æ–‡ä»¶æ‰©å±•åè¿‡æ»¤ (Backend)
- [x] CRC32/MD5/SHA1 è®¡ç®— (Backend)
- [x] ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ« (Backend)
- [x] æ‰«æç›®å½•ç®¡ç† UI (Frontend)
- [x] æ‰«æè¿›åº¦å±•ç¤º (Frontend)

### Phase 2: Scraper æ ¸å¿ƒ

#### 2.1 ScraperManager ç»Ÿä¸€è°ƒåº¦å±‚
- [x] ScraperManager æ ¸å¿ƒå®ç°
  - [x] Provider æ³¨å†Œ/ç®¡ç† (HashMap<String, Box<dyn Scraper>>)
  - [x] ç»Ÿä¸€æœç´¢æ¥å£ (å¹¶è¡ŒæŸ¥è¯¢å¤š provider)
  - [x] ç»Ÿä¸€å…ƒæ•°æ®/åª’ä½“è·å–æ¥å£
  - [x] æ™ºèƒ½ scrape (è‡ªåŠ¨åŒ¹é… + èšåˆ)
  - [ ] æ‰¹é‡ scrape (è¿›åº¦å›è°ƒ)
- [x] æ ‡å‡†åŒ–æ•°æ®ç»“æ„
  - [x] ScrapeQuery (name, system, hash, file_name)
  - [x] SearchResult (provider, source_id, name, confidence)
  - [x] GameMetadata (name, description, developer, publisher, genres, rating)
  - [x] MediaAsset (provider, url, asset_type, dimensions)
  - [x] MediaType æšä¸¾ (BoxFront, Screenshot, Logo, Video, etc.)
- [x] Provider trait (å¯æ‰©å±•æ¥å£)
  - [x] id() + display_name() -> æ ‡è¯†ç¬¦
  - [x] capabilities() -> æ”¯æŒçš„åŠŸèƒ½ (search, hash_lookup, metadata, media)
  - [x] search(query) -> Vec<SearchResult>
  - [x] get_metadata(source_id) -> GameMetadata
  - [x] get_media(source_id) -> Vec<MediaAsset>
  - [x] lookup_by_hash() -> å¯é€‰å®ç°

#### 2.2 å†…ç½® Provider å®ç°
- [x] SteamGridDB (åª’ä½“ä¸ºä¸»ï¼Œé€‚é…æ–° trait)
- [x] ScreenScraper (å…ƒæ•°æ®+åª’ä½“ï¼Œæ”¯æŒ Hash æŸ¥æ‰¾)
- [ ] IGDB (å…ƒæ•°æ®ä¸ºä¸»)
- [ ] TheGamesDB (å…è´¹ï¼Œç¤¾åŒºé©±åŠ¨)
- [ ] MobyGames (è€æ¸¸æˆæ•°æ®ä¸°å¯Œ)
- [ ] LaunchBox æœ¬åœ°æ•°æ®åº“ (ç¦»çº¿å¯ç”¨)
- [ ] æœç´¢å¼•æ“ + AI Scraper (å…œåº•æ–¹æ¡ˆ)

#### 2.3 æ™ºèƒ½åŒ¹é…å¼•æ“
- [x] ROM æ–‡ä»¶åè§£æï¼ˆNo-Intro å‘½åè§„èŒƒï¼‰
- [x] Hash ç²¾ç¡®åŒ¹é… (CRC32/MD5/SHA1 â†’ ScreenScraper)
- [x] åç§°æ¨¡ç³ŠåŒ¹é… (Jaro-Winkler ç›¸ä¼¼åº¦ç®—æ³•)
- [x] ç½®ä¿¡åº¦è¯„åˆ† (åç§°+ç³»ç»Ÿç»¼åˆè¯„ä¼°)
- [x] å¤šæºæ•°æ®èšåˆï¼ˆä¼˜å…ˆçº§åˆå¹¶è§„åˆ™ï¼‰
  - [x] å¹¶è¡Œè·å–æ‰€æœ‰ provider çš„å…ƒæ•°æ®
  - [x] æŒ‰ä¼˜å…ˆçº§åˆå¹¶å…ƒæ•°æ®ï¼ˆä¼˜å…ˆçº§é«˜çš„æ•°æ®ä¼˜å…ˆï¼‰
  - [x] ç©ºå­—æ®µç”±å…¶ä»– provider è‡ªåŠ¨è¡¥å……
  - [x] genres å­—æ®µè‡ªåŠ¨å»é‡åˆå¹¶
  - [x] ç”¨æˆ·å¯é…ç½® provider ä¼˜å…ˆçº§

#### 2.4 åª’ä½“ä¸‹è½½
- [x] å¹¶å‘ä¸‹è½½é˜Ÿåˆ— (Batch Scraper)
- [x] æ–­ç‚¹ç»­ä¼  (Basic Implementation)
- [ ] å›¾ç‰‡æ ¼å¼è½¬æ¢/å‹ç¼©
- [x] æœ¬åœ°ç¼“å­˜ç®¡ç†

#### 2.6 ä¸­æ–‡æ•°æ®åº“é›†æˆ
- [x] æœ¬åœ° rom-name-cn ä»“åº“ç®¡ç† (Git Clone/Pull)
- [x] CSV è§£æä¸åŒè·¯å¾„æœç´¢ (User Data + Resources)
- [x] æ™ºèƒ½åŒ¹é…ç®—æ³• (Jaro-Winkler)
- [x] ç‹¬ç«‹ç®¡ç†é¡µé¢ä¸ Sidebar å…¥å£
- [x] ç›®å½•å‘½åæ£€æŸ¥å·¥å…· (Scan & Report)
- [x] ä¸€é”®è‡ªåŠ¨ä¿®å¤åŠŸèƒ½ (Auto-fix & Persistence)

### Phase 3: å¯¼å…¥å¯¼å‡º

#### 3.1 å¯¼å…¥åŠŸèƒ½ (å³æ—¶è¯»å–)
- [x] EmulationStation gamelist.xml è§£æ
- [x] metadata.txt è§£æ
- [x] ä¸´æ—¶å…ƒæ•°æ®åˆå¹¶é¢„è§ˆ (Temp metadata merging)
- [ ] LaunchBox XML è§£æ
- [ ] RetroArch .lpl è§£æ
- [x] åª’ä½“èµ„äº§å…³è” (Support local & temp media)

#### 3.2 å¯¼å‡ºåŠŸèƒ½
- [x] gamelist.xml ç”Ÿæˆ (æ”¯æŒ <english-name>)
- [x] metadata.txt ç”Ÿæˆ (Pegasus æ ¼å¼ï¼Œæ”¯æŒ Block çº§æ›¿æ¢)
- [ ] è‡ªå®šä¹‰å¯¼å‡ºæ¨¡æ¿
- [x] å¼‚æ­¥å¯¼å‡ºä»»åŠ¡ (Support media synchronization)
- [x] å¯¼å‡ºè¿›åº¦å›è°ƒ (Tauri Emitter)

### Phase 4: é«˜çº§åŠŸèƒ½

#### 4.1 ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- [x] æ‹–æ‹½æ·»åŠ  ROM
- [ ] æ‰¹é‡ç¼–è¾‘å…ƒæ•°æ®
- [ ] å¿«æ·é”®ç³»ç»Ÿ
- [x] ä¸»é¢˜åˆ‡æ¢ï¼ˆæš—/äº®ï¼‰
- [x] ç»Ÿä¸€è§†å›¾ç»„ä»¶ (Cover/Grid/List åˆå¹¶ä¸º RomView.tsx)
- [x] è§†å›¾åˆ‡æ¢å¹³æ»‘åŠ¨ç”» (CSS transitionï¼Œä¿æŒæ»šåŠ¨ä½ç½®)
- [x] åŠ¨æ€è¡Œé«˜è®¡ç®— (æ ¹æ®å®¹å™¨å®½åº¦å’Œ aspect-ratio è‡ªé€‚åº”)
- [x] å¯åŠ¨ Splash Screen (HTML å†…è”ï¼Œé˜²æ­¢ç™½å±é—ªçƒ)
- [x] å°é¢é¢„åŠ è½½ (å¯åŠ¨æ—¶é¢„åŠ è½½å‰ 50 ä¸ª ROM å°é¢)
- [x] Splash åŠ è½½æ­¥éª¤æ˜¾ç¤º (æ”¯æŒ i18n)
- [x] ä¸­æ–‡ ROM å·¥å…· UI ä¼˜åŒ–
  - [x] å“åº”å¼ Flex å¸ƒå±€
  - [x] è¡¨æ ¼åˆ—å®½å¹³å‡åˆ†å¸ƒ
  - [x] å†…å®¹åŒºåŸŸå æ»¡é¡µé¢å®½åº¦
  - [x] ä¿®å¤å†…å®¹è¢« footer é®æŒ¡é—®é¢˜
  - [x] é€‰æ‹©ç›®å½•åè‡ªåŠ¨æ‰«æ
- [x] ä¸­æ–‡ ROM å·¥å…·å¢å¼ºåŠŸèƒ½
  - [x] ç½®ä¿¡åº¦å¯è§†åŒ–æ˜¾ç¤ºï¼ˆèƒŒæ™¯è‰²æ¸å˜ï¼šä½åˆ†çº¢è‰²â†’é«˜åˆ†é€æ˜ï¼‰
  - [x] ç‚¹å‡»è‹±æ–‡åå¯ç¼–è¾‘ï¼ˆEnterç¡®è®¤/ESCå–æ¶ˆï¼‰
  - [x] æ‰‹åŠ¨ç¼–è¾‘å®æ—¶ä¿å­˜åˆ°ä¸´æ—¶metadata
  - [x] ç”¨æˆ·ç¼–è¾‘çš„è‹±æ–‡åè‡ªåŠ¨è®¾ç½®ä¸ºæ»¡åˆ†ï¼ˆ100åˆ†ï¼‰
  - [x] è‡ªåŠ¨å»é™¤è‹±æ–‡åä¸­çš„åŒºåŸŸæ ‡ç­¾ï¼ˆå¦‚ (USA)ï¼‰
  - [x] æŒ‰ç½®ä¿¡åº¦æ’åºï¼ˆç‚¹å‡»åˆ—å¤´åˆ‡æ¢ï¼šé™åºâ†’å‡åºâ†’å–æ¶ˆï¼‰
  - [x] è¡¨æ ¼åˆ—å®½æ‹–æ‹½è°ƒæ•´ï¼ˆé¼ æ ‡æ‹–æ‹½åˆ—å¤´åˆ†éš”çº¿ï¼‰
- [x] i18n åˆè§„æ€§ä¿®å¤
  - [x] Settings.tsx - API é…ç½®ç›¸å…³æ–‡å­—ï¼ˆ13ä¸ªç¿»è¯‘é”®ï¼‰
  - [x] Scraper.tsx - æœªé…ç½®å‡­è¯è­¦å‘Šï¼ˆ3ä¸ªç¿»è¯‘é”®ï¼‰
  - [x] CnRomTools.tsx - æ‰€æœ‰ç¡¬ç¼–ç ä¸­æ–‡æ–‡å­—ï¼ˆ50+ä¸ªç¿»è¯‘é”®ï¼‰
  - [x] æ›´æ–°ç¿»è¯‘æ–‡ä»¶ï¼ˆzh-CN.json å’Œ en.jsonï¼‰


#### 4.2 Settings & Configuration Management
- [x] API é…ç½®ç®¡ç†
  - [x] å°† API é…ç½®ä» Scraper é¡µé¢ç§»è‡³ Settings é¡µé¢
  - [x] Provider åˆ—è¡¨å±•ç¤ºï¼ˆSteamGridDBã€ScreenScraperï¼‰
  - [x] å¯ç”¨/ç¦ç”¨å¼€å…³ï¼ˆæ”¯æŒæœªé…ç½®å‡­è¯æ—¶çš„çŠ¶æ€ä¿å­˜ï¼‰
  - [x] å‡­è¯é…ç½®é¢æ¿ï¼ˆç”¨æˆ·å/å¯†ç /API Keyï¼‰
  - [x] é…ç½®æŒä¹…åŒ–åˆ° settings.json
  - [x] ä¿®å¤æœªæ³¨å†Œ provider çš„å¼€å…³çŠ¶æ€ä¿å­˜é—®é¢˜
- [x] ChineseROMDB æ¶æ„è°ƒæ•´
  - [x] ä» scraper provider åˆ—è¡¨ä¸­ç§»é™¤
  - [x] ä¿ç•™ä¸ºç‹¬ç«‹çš„ä¸­æ–‡ ROM å·¥å…·
  - [x] update_cn_repo å‘½ä»¤ç§»è‡³ tools æ¨¡å—
- [x] Provider ä¼˜å…ˆçº§ç®¡ç†
  - [x] ScraperConfig æ·»åŠ  priority å­—æ®µ
  - [x] åç«¯ set_priority() æ–¹æ³•å’Œ API
  - [x] å‰ç«¯ setProviderPriority æ–¹æ³•
  - [x] ä¼˜å…ˆçº§æŒä¹…åŒ–åˆ° settings.json
- [x] Provider æ‹–æ‹½æ’åº UI
  - [x] æ‹–æ‹½æ‰‹æŸ„å›¾æ ‡å’Œè§†è§‰åé¦ˆ
  - [x] HTML5 drag and drop å®ç°
  - [x] æŒ‰ priority æ’åºæ˜¾ç¤º
  - [x] æ‹–æ‹½åè‡ªåŠ¨é‡æ–°è®¡ç®—ä¼˜å…ˆçº§
  - [x] ä¹è§‚æ›´æ–°å’Œé”™è¯¯å›æ»š

#### 4.3 é«˜çº§ Scraper
- [x] æ‰¹é‡ Scraper (Backend Queue & Auto-Match)
- [x] æ‰¹é‡æ“ä½œ UI (Frontend)
- [ ] è‡ªå®šä¹‰çˆ¬è™«è§„åˆ™
- [ ] ä»£ç†è®¾ç½®
- [ ] é€Ÿç‡é™åˆ¶é…ç½®

#### 4.4 PS3 å¹³å°å¢å¼º
- [x] PS3 æ¨¡å—æ¶æ„é‡æ„
  - [x] åˆ›å»º ps3/ ç›®å½•ç»Ÿä¸€ç®¡ç† PS3 åŠŸèƒ½
  - [x] ps3/sfo.rs - PARAM.SFO è§£ææ¨¡å—
  - [x] ps3/boxart.rs - Boxart/Logo ç”Ÿæˆæ¨¡å—
  - [x] ps3/iso.rs - ISO9660 æ–‡ä»¶ç³»ç»Ÿæå–æ¨¡å—
  - [x] ps3/mod.rs - æ¨¡å—å…¥å£å’Œæ¥å£å¯¼å‡º
- [x] PARAM.SFO è§£æ
  - [x] ä» PS3_GAME æ–‡ä»¶å¤¹è§£ææ¸¸æˆä¿¡æ¯
  - [x] ä» ISO æ–‡ä»¶è§£ææ¸¸æˆä¿¡æ¯ï¼ˆISO9660 æ–‡ä»¶ç³»ç»Ÿï¼‰
  - [x] æå–æ¸¸æˆæ ‡é¢˜ã€IDã€ç‰ˆæœ¬ç­‰å…ƒæ•°æ®
- [x] ROM æ‰«æå¢å¼º
  - [x] è‡ªåŠ¨è¯†åˆ« PS3_GAME ç›®å½•ç»“æ„
  - [x] æ··åˆç›®å½•æ”¯æŒï¼ˆISO å’Œæ–‡ä»¶å¤¹æ··åˆæ‰«æï¼‰
  - [x] å¼‚æ­¥æ‰«æé¿å… UI é˜»å¡
  - [x] æ ¹ç›®å½•æ¨¡å¼ä¸‹æ­£ç¡®åˆ†ç»„ PS3 æ¸¸æˆ
- [x] Boxart è‡ªåŠ¨ç”Ÿæˆ
  - [x] å›¾åƒåˆæˆå¼•æ“ï¼ˆimage crateï¼‰
  - [x] PIC1.PNG èƒŒæ™¯å±…ä¸­è£åˆ‡ï¼ˆ512x512ï¼‰
  - [x] ICON0.PNG å›¾æ ‡å åŠ ï¼ˆå·¦ä¸‹è§’ï¼Œ128x128ï¼‰
  - [x] Tauri command æ¥å£ï¼ˆgenerate_ps3_boxartï¼‰
  - [x] ç”Ÿæˆç»“æœä¿å­˜åˆ° temp ç›®å½•
  - [x] åŒæ—¶ç”Ÿæˆ Logoï¼ˆç›´æ¥æå– ICON0.PNGï¼‰
  - [x] ç”Ÿæˆåè‡ªåŠ¨åˆ·æ–° ROM åº“å’Œè¯¦æƒ…é¡µ
- [ ] æ‰¹é‡ Boxart ç”Ÿæˆ
  - [ ] ä¸ºç›®å½•ä¸‹æ‰€æœ‰ PS3 ROM æ‰¹é‡ç”Ÿæˆ
  - [ ] è¿›åº¦å›è°ƒå’Œå–æ¶ˆæ”¯æŒ

### Phase 5: ä¸´æ—¶å…ƒæ•°æ®æ¶æ„ (Temp Metadata)

#### 5.1 ç›®å½•ç»“æ„è®¾è®¡
- [x] ç»Ÿä¸€ä¸´æ—¶æ•°æ®ç›®å½•ç»“æ„
  ```
  {config_dir}/temp/{library_normalized}/{system}/
  â”œâ”€â”€ metadata.txt            # ä¸´æ—¶ Pegasus å…ƒæ•°æ®æ–‡ä»¶
  â”œâ”€â”€ gamelist.xml            # ä¸´æ—¶ EmulationStation å…ƒæ•°æ®æ–‡ä»¶
  â””â”€â”€ media/
      â””â”€â”€ {rom_file_stem}/    # æ¯ä¸ª ROM ç‹¬ç«‹åª’ä½“ç›®å½•
          â”œâ”€â”€ boxfront.png    # å°é¢ (scraper/PS3 ç”Ÿæˆ)
          â”œâ”€â”€ logo.png        # Logo (PS3 ICON0.PNG)
          â”œâ”€â”€ screenshot.png  # æˆªå›¾
          â””â”€â”€ video.mp4       # è§†é¢‘é¢„è§ˆ
  ```
- [x] library_path è®¡ç®—
  - [x] `rom.directory` æ˜¯ ROM æ‰€åœ¨ç›®å½• (å¦‚ `Z:\ps3`)
  - [x] `library_path` = `rom.directory.parent()` (å¦‚ `Z:\`)
  - [x] åœ¨ `persistence.rs`, `ps3.rs`, `naming_check.rs` ç»Ÿä¸€å®ç°
- [x] è·¯å¾„è§„èŒƒåŒ– (`config.rs::normalize_path_to_dirname`)
  - [x] `Z:\` â†’ `z`
  - [x] `D:\games\` â†’ `d_games`
- [x] æ”¯æŒå¤šåº“éš”ç¦»ï¼ˆä¸åŒé©±åŠ¨å™¨/è·¯å¾„çš„ ROM åº“ç‹¬ç«‹å­˜å‚¨ï¼‰

#### 5.2 åç«¯å®ç°

##### 5.2.1 é…ç½®æ¨¡å— (`src-tauri/src/config.rs`)
```rust
// æ ¸å¿ƒå‡½æ•°
get_config_dir()           // é…ç½®æ ¹ç›®å½• (ç¯å¢ƒå˜é‡ CONFIG_DIR æˆ– exe/config/)
get_temp_dir()             // ä¸´æ—¶ç›®å½• (config/temp/)
get_temp_dir_for_library() // ç‰¹å®šåº“çš„ä¸´æ—¶ç›®å½• (temp/{library}/{system}/)
normalize_path_to_dirname() // è·¯å¾„è§„èŒƒåŒ– (Z:\ â†’ z)
```

##### 5.2.2 æŒä¹…åŒ–æ¨¡å— (`src-tauri/src/scraper/persistence.rs`)
- [x] `download_media()` - ä¸‹è½½åª’ä½“åˆ° `media/{file_stem}/asset_type.ext`
- [x] `save_metadata_pegasus()` - å†™å…¥ Pegasus æ ¼å¼å…ƒæ•°æ®
- [x] `save_metadata_emulationstation()` - å†™å…¥ EmulationStation æ ¼å¼å…ƒæ•°æ®
- [x] æ‰€æœ‰å‡½æ•°ä½¿ç”¨ `rom.directory.parent()` è®¡ç®— library_path

##### 5.2.3 Pegasus è§£æå™¨ (`src-tauri/src/scraper/pegasus.rs`)
- [x] å¤§å°å†™ä¸æ•æ„Ÿé”®ååŒ¹é…
  - [x] `assets.boxFront` / `assets.boxfront` / `assets.box_front` ç»Ÿä¸€å¤„ç†
  - [x] ä½¿ç”¨ `key.to_lowercase()` è¿›è¡ŒåŒ¹é…
- [x] æ”¯æŒç›¸å¯¹è·¯å¾„è§£æä¸ºç»å¯¹è·¯å¾„

##### 5.2.4 PS3 å‘½ä»¤ (`src-tauri/src/commands/ps3.rs`)
```rust
#[tauri::command]
async fn generate_ps3_boxart(request: GenerateBoxartRequest) -> Result<GenerateBoxartResponse>

// Response åŒ…å«:
// - boxart_path / relative_boxart_path  (PIC1+ICON0 åˆæˆ)
// - logo_path / relative_logo_path      (ICON0 ç›´æ¥æå–)
```
- [x] æ”¯æŒæ–‡ä»¶å¤¹ ROM (PS3_GAME ç›®å½•)
- [x] æ”¯æŒ ISO ROM (ISO9660 æ–‡ä»¶ç³»ç»Ÿæå–)
- [x] è¾“å‡ºåˆ° `temp/{library}/{system}/media/{file_stem}/boxfront.png`
- [x] åŒæ—¶ç”Ÿæˆ `logo.png` (ICON0.PNG)
- [x] è‡ªåŠ¨æ›´æ–° metadata.txt ä¸­çš„ assets è·¯å¾„

##### 5.2.5 ä¸­æ–‡ ROM å·¥å…· (`src-tauri/src/commands/naming_check.rs`)
- [x] `auto_fix_naming()` åˆå¹¶é€»è¾‘
  ```rust
  // 1. åŠ è½½ç°æœ‰ä¸´æ—¶æ•°æ®
  let existing = parse_existing_temp_metadata();
  // 2. åˆå¹¶æ–°æ•°æ®ï¼Œä¿ç•™ç”¨æˆ·ç¼–è¾‘
  for (key, new_entry) in new_entries {
      if existing[key].confidence == 100 {
          continue; // è·³è¿‡ç”¨æˆ·æ‰‹åŠ¨ç¼–è¾‘çš„æ¡ç›®
      }
      merged.insert(key, new_entry);
  }
  // 3. å†™å…¥åˆå¹¶åçš„æ•°æ®
  ```
- [x] `clean_english_name()` - å»é™¤åŒºåŸŸæ ‡ç­¾ `(USA)`, `[Europe]` ç­‰

#### 5.3 å‰ç«¯å®ç°

##### 5.3.1 å°é¢ä¼˜å…ˆçº§ (`src/components/rom/RomView.tsx`)
```typescript
// è·å– ROM å°é¢ï¼Œä¼˜å…ˆä½¿ç”¨ temp_data
function getRomCover(rom: Rom): string | undefined {
  return rom.temp_data?.box_front || rom.box_front || rom.gridicon;
}
```

##### 5.3.2 åª’ä½“ URL é¢„åŠ è½½ (`src/lib/api.ts`)
```typescript
export async function preloadMediaUrls(roms: Rom[]): Promise<void> {
  const paths = roms.slice(0, PRELOAD_LIMIT).flatMap((rom) => {
    // ä¼˜å…ˆæ£€æŸ¥ temp_data
    const cover = rom.temp_data?.box_front || rom.box_front;
    return cover ? [cover] : [];
  });
  // å¹¶å‘è§£ææ‰€æœ‰è·¯å¾„
  await Promise.all(paths.map(resolveMediaUrlAsync));
}
```

##### 5.3.3 ç”Ÿæˆååˆ·æ–° (`src/components/rom/RomDetail.tsx`)
```typescript
const handleGenerateBoxart = async () => {
  const result = await toolsApi.generatePs3Boxart(request);
  if (result.success) {
    // åˆ·æ–°ä¸´æ—¶åª’ä½“åˆ—è¡¨
    await scraperApi.getTempMediaList(selectedLibrary.path);
    // åˆ·æ–° ROM åˆ—è¡¨ä»¥æ›´æ–°å°é¢
    await fetchRoms();
  }
};
```

##### 5.3.4 Rom ç±»å‹å®šä¹‰ (`src/types/index.ts`)
```typescript
interface Rom {
  // ... åŸºç¡€å­—æ®µ
  temp_data?: {
    box_front?: string;
    logo?: string;
    screenshot?: string;
    video?: string;
    name?: string;
    english_name?: string;
    confidence?: number;
    [key: string]: any;
  };
}
```

#### 5.4 æ•°æ®æµå›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Temp Metadata Data Flow                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  1. ç”Ÿæˆ/æŠ“å–é˜¶æ®µ:                                            â”‚
â”‚     User Action (Scrape / Generate Boxart / Auto-fix CN)    â”‚
â”‚       â†’ Backend Command (generate_ps3_boxart, etc.)         â”‚
â”‚       â†’ library_path = rom.directory.parent()               â”‚
â”‚       â†’ temp_dir = get_temp_dir_for_library(library_path)   â”‚
â”‚       â†’ å†™å…¥ temp_dir/media/{file_stem}/boxfront.png        â”‚
â”‚       â†’ æ›´æ–° temp_dir/metadata.txt                          â”‚
â”‚                                                              â”‚
â”‚  2. åŠ è½½é˜¶æ®µ:                                                 â”‚
â”‚     scan_directory() / fetchRoms()                          â”‚
â”‚       â†’ apply_temp_metadata(roms, library_path)             â”‚
â”‚       â†’ è§£æ temp_dir/metadata.txt                          â”‚
â”‚       â†’ å¡«å…… rom.temp_data (box_front, logo, etc.)          â”‚
â”‚       â†’ ç›¸å¯¹è·¯å¾„è§£æä¸ºç»å¯¹è·¯å¾„                                â”‚
â”‚                                                              â”‚
â”‚  3. æ˜¾ç¤ºé˜¶æ®µ:                                                 â”‚
â”‚     RomView.tsx                                              â”‚
â”‚       â†’ getRomCover(rom) è·å–å°é¢è·¯å¾„                        â”‚
â”‚       â†’ useMediaUrl(path) è½¬æ¢ä¸ºå¯æ˜¾ç¤ºçš„ URL                 â”‚
â”‚       â†’ æ˜¾ç¤ºå›¾ç‰‡                                             â”‚
â”‚                                                              â”‚
â”‚  4. å¯¼å…¥é˜¶æ®µ (TODO):                                          â”‚
â”‚     import_temp_data()                                       â”‚
â”‚       â†’ å°† temp æ•°æ®å¤åˆ¶åˆ° ROM ç›®å½•                          â”‚
â”‚       â†’ åˆå¹¶ metadata åˆ° ROM ç›®å½•çš„ metadata.txt             â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.5 å…³é”®æ–‡ä»¶æ¸…å•

| æ–‡ä»¶ | èŒè´£ |
|------|------|
| `src-tauri/src/config.rs` | é…ç½®ç›®å½•ç®¡ç†ã€è·¯å¾„è§„èŒƒåŒ– |
| `src-tauri/src/scraper/persistence.rs` | åª’ä½“ä¸‹è½½ã€å…ƒæ•°æ®å†™å…¥ |
| `src-tauri/src/scraper/pegasus.rs` | Pegasus æ ¼å¼è§£æ |
| `src-tauri/src/commands/ps3.rs` | PS3 boxart/logo ç”Ÿæˆå‘½ä»¤ |
| `src-tauri/src/commands/scraper.rs` | get_temp_media_list API |
| `src-tauri/src/commands/naming_check.rs` | ä¸­æ–‡ ROM å·¥å…· |
| `src-tauri/src/rom_service.rs` | ROM æ‰«æã€ä¸´æ—¶æ•°æ®åº”ç”¨ |
| `src/components/rom/RomView.tsx` | å°é¢æ˜¾ç¤ºç»„ä»¶ |
| `src/components/rom/RomDetail.tsx` | ROM è¯¦æƒ…é¢æ¿ |
| `src/lib/api.ts` | åª’ä½“ URL è§£æã€é¢„åŠ è½½ |
| `src/types/index.ts` | Rom æ¥å£å®šä¹‰ |

### Phase 6: é…ç½®æ¶æ„é‡æ„ (æœ¬åœ°/Docker åŒæ¨¡å¼)

#### 5.1 é…ç½®ç›®å½•ç»“æ„
- [x] ç»Ÿä¸€é…ç½®ç›®å½•åˆ° `./config/`
  - `config/settings.json` - åº”ç”¨é…ç½®
  - `config/media/` - åª’ä½“èµ„äº§ç¼“å­˜
- [x] ç¯å¢ƒå˜é‡æ”¯æŒ (`CONFIG_DIR` è¦†ç›–é»˜è®¤è·¯å¾„)
- [x] Docker volume æŒ‚è½½æ”¯æŒ

#### 5.2 ç›®å½•é€‰æ‹© UI é‡æ„
- [x] ç§»é™¤ Tauri dialog ä¾èµ–ï¼ˆWeb ç«¯ä¸å¯ç”¨ï¼‰
- [x] æ–°å¢æ‰‹åŠ¨è¾“å…¥è·¯å¾„ UI
- [x] è·¯å¾„éªŒè¯ APIï¼ˆåç«¯éªŒè¯ç›®å½•æ˜¯å¦å­˜åœ¨/å¯è¯»ï¼‰
- [x] ç›®å½•æµè§ˆ APIï¼ˆåç«¯è¿”å›ç›®å½•åˆ—è¡¨ä¾›é€‰æ‹©ï¼‰

#### 5.3 éƒ¨ç½²æ¨¡å¼æ”¯æŒ
- [x] æœ¬åœ°æ¨¡å¼ï¼šä½¿ç”¨ç›¸å¯¹è·¯å¾„ `./config/`
- [x] Docker æ¨¡å¼ï¼šæŒ‚è½½ `/roms` volume
- [ ] é…ç½®çƒ­é‡è½½æ”¯æŒ

### Phase 6: Web ç‰ˆæœ¬ (Docker éƒ¨ç½²)

#### 6.1 Node.js åç«¯æœåŠ¡
- [x] Express + TypeScript æœåŠ¡ç«¯
- [x] ROM æ•°æ® API (`/api/roms`)
- [x] åª’ä½“æ–‡ä»¶ä»£ç† API (`/api/media`)
- [x] Pegasus metadata è§£æå™¨ (ç§»æ¤è‡ª Rust)
- [x] Media ç›®å½•è‡ªåŠ¨æ‰«æ

#### 6.2 Docker æ”¯æŒ
- [x] å¤šé˜¶æ®µ Dockerfile (å‰ç«¯æ„å»º + åç«¯æ„å»º + ç”Ÿäº§é•œåƒ)
- [x] docker-compose.yml é…ç½®
- [x] ç¯å¢ƒå˜é‡é…ç½® (`ROMS_DIR`, `PORT`)
- [x] Volume æ˜ å°„æ–‡æ¡£

#### 6.3 å‰ç«¯é€‚é…
- [x] ç¯å¢ƒæ£€æµ‹ (Tauri vs Web)
- [x] API è°ƒç”¨é€‚é…å±‚ (`src/lib/api.ts`)
- [x] åª’ä½“ URL è½¬æ¢ (convertFileSrc vs HTTP URL)

---

## ğŸ”— å‚è€ƒèµ„æº

### API æ–‡æ¡£
- [SteamGridDB API](https://www.steamgriddb.com/api/v2)
- [IGDB API](https://api-docs.igdb.com/)
- [TheGamesDB API](https://thegamesdb.net/api/)
- [MobyGames API](https://www.mobygames.com/info/api)
- [ScreenScraper API](https://www.screenscraper.fr/webapi2.php)

### æŠ€æœ¯æ¡†æ¶
- [Tauri](https://tauri.app/)
- [React](https://react.dev/)
- [TailwindCSS](https://tailwindcss.com/)
- [Express](https://expressjs.com/)
- [Docker](https://www.docker.com/)
